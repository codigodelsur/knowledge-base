<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">

	<title>2. Branch Management - CodigoDelSur</title>

        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <link href="../../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">CodigoDelSur</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../../..">Home</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">New at CodigoDelSur <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../../New at CodigoDelSur/First_Steps/">First Steps</a>
</li>

                    
                        
<li >
    <a href="../../../New at CodigoDelSur/Learn_Agile/">Learn Agile</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Technologies <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">AWS</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Technologies/AWS/1._Getting_Started/">1. Getting Started</a>
</li>

        
            
<li >
    <a href="../../../Technologies/AWS/2._EC2/">2. EC2</a>
</li>

        
            
<li >
    <a href="../../../Technologies/AWS/3._S3/">3. S3</a>
</li>

        
            
<li >
    <a href="../../../Technologies/AWS/4._RDS/">4. RDS</a>
</li>

        
            
<li >
    <a href="../../../Technologies/AWS/5._LoadBalancer/">5. LoadBalancer</a>
</li>

        
            
<li >
    <a href="../../../Technologies/AWS/6._EB/">6. EB</a>
</li>

        
            
<li >
    <a href="../../../Technologies/AWS/Resources/">Resources</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Android</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Technologies/Android/HockeyApp_Distribution/">HockeyApp Distribution</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">React</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Technologies/React/1._Getting_Started/">1. Getting Started</a>
</li>

        
            
<li >
    <a href="../../../Technologies/React/2._Project_Boilerplate/">2. Project Boilerplate</a>
</li>

        
            
<li >
    <a href="../../../Technologies/React/3._Libraries/">3. Libraries</a>
</li>

        
            
<li >
    <a href="../../../Technologies/React/4._Redux/">4. Redux</a>
</li>

        
            
<li >
    <a href="../../../Technologies/React/5._Testing/">5. Testing</a>
</li>

        
            
<li >
    <a href="../../../Technologies/React/6._Recommended_reading/">6. Recommended reading</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Ruby & Rails</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Technologies/Ruby_&_Rails/1._Ruby_Beginners_Guide/">1. Ruby Beginners Guide</a>
</li>

        
            
<li >
    <a href="../../../Technologies/Ruby_&_Rails/2._Rails_Beginners_Guide/">2. Rails Beginners Guide</a>
</li>

        
            
<li >
    <a href="../../../Technologies/Ruby_&_Rails/3._Ruby_Intermediate_Guide/">3. Ruby Intermediate Guide</a>
</li>

        
            
<li >
    <a href="../../../Technologies/Ruby_&_Rails/4._Rails_Intermediate_Guide/">4. Rails Intermediate Guide</a>
</li>

        
            
<li >
    <a href="../../../Technologies/Ruby_&_Rails/Useful_Gems/">Useful Gems</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Web Development</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Technologies/Web_Development/Editor_Plugins/">Editor Plugins</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">iOS</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Technologies/iOS/1._New to iOS/">1. New to iOS</a>
</li>

        
            
<li >
    <a href="../../../Technologies/iOS/2._Projects/">2. Projects</a>
</li>

        
            
<li >
    <a href="../../../Technologies/iOS/3. Continuous Integration/">3. Continuous Integration</a>
</li>

        
    </ul>
  </li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tools <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Git</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../1._Getting_Started/">1. Getting Started</a>
</li>

        
            
<li class="active">
    <a href="./">2. Branch Management</a>
</li>

        
            
<li >
    <a href="../3._Tools/">3. Tools</a>
</li>

        
            
<li >
    <a href="../4._Messages/">4. Messages</a>
</li>

        
    </ul>
  </li>

                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                <li >
                    <a rel="next" href="../1._Getting_Started/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../3._Tools/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/codigodelsur/knowledge-base">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#branch-management">Branch Management</a></li>
        
            <li><a href="#main-branches">Main branches</a></li>
        
            <li><a href="#supporting-branches">Supporting Branches</a></li>
        
    
        <li class="main "><a href="#merging-vs-rebasing">Merging vs Rebasing</a></li>
        
            <li><a href="#merging-branches">Merging Branches</a></li>
        
            <li><a href="#rebasing-branches">Rebasing Branches</a></li>
        
            <li><a href="#conclusion">Conclusion</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="branch-management">Branch Management</h1>
<p>There are many branch management flows that can be implemented. Some flows might work fine with some projects but can be ineffective with others because of their nature. That’s the reason why there isn't a golden rule to follow when you are creating a branch management flow.
In this section we will describe our recommendations, which we have been using in many projects and worked really well.</p>
<p>We can distinct between two types of branches: the <strong>main branches</strong> and the <strong>supporting branches</strong>. The main branches are branches that should never be deleted, these branches represent every stage of the code. The supporting branches always have a limited life time, these branches are created to develop a feature, fixing a bug, etc.</p>
<p><strong>Important:</strong> Main branches should be protected branches and should require pull request reviews before merging.</p>
<h3 id="main-branches">Main branches</h3>
<p><code>develop</code> Contains all the latest features developed by the team. This is an unstable branch, basically, it is constantly receiving features from the developers.</p>
<p><code>master</code> Holds the production code, or App/Play Store versions. This is our production branch and it must be stable.</p>
<p><code>qa_testing</code> This branch is where the QA team do their tests. It contains all the features that will be released to the client or beta testers.</p>
<p><code>stage</code> Holds the latest released version to the client or beta testers. This is a stable branch.</p>
<p>The last 2 (<code>qa_testing</code> and <code>stage</code>) are perfect examples of branches that may not fit in your project as well. Feel free to just use <code>develop</code> and <code>master</code>.</p>
<h3 id="supporting-branches">Supporting Branches</h3>
<p><code>feature</code> Every time a developer starts a feature, a new branch out from development must be created. Once the developer finishes the feature and ends testing it, the feature is ready to be merged into development. Depending on the project, we encourage creating a pull request, that is reviewed by other devs, and then merged to <code>develop</code>.
These branches should be named as:
feature/[taskid]_taskname</p>
<p><code>bug</code> Every time the QA team reports a bug, or the developer team detects one, that bug must be fixed on a bug branch. These branches should branch out from the qa_testing branch if it exists.
These branches should be named as:
bug/[taskid]_taskname</p>
<p><code>hotfix</code> Every time a bug is discovered in stage or in production we should create a hotfix branch to fix this issue. Branching out from stage or master depending on where the bug was detected.
These branches should be named as:
hotfix/[taskid]_taskname
Merges</p>
<p><code>epic</code> Basically this is a feature branch that contains an epic feature. Epic features are big features that can group many small features. Consider including an on/off mechanism inside the code (like a feature toggle). The behaiviour is exactly the same as the feature branch and should be named as:
epic/[taskid]_taskname</p>
<p>Epic branches may not be useful in your project. Also, for all branch names, you may choose to use <code>-</code> instead of <code>_</code>, there is no convention around this.</p>
<h1 id="merging-vs-rebasing">Merging vs Rebasing</h1>
<p>Merging vs rebasing is a really interesting discussion that we won't cover in the KB. We suggest <a href="https://www.atlassian.com/git/tutorials/merging-vs-rebasing">this article</a> as the starting point, and we consider it a <strong>must read</strong> for everybody.</p>
<h2 id="merging-branches">Merging Branches</h2>
<p>Merging is Git's way of putting a forked history back together again. The <code>git merge</code> command lets you take the independent lines of development created by <code>git branch</code> and integrate them into a single branch.
Understand all about it <a href="https://www.atlassian.com/git/tutorials/git-merge">here</a>.
<img alt="Merge illustration" src="../imgs/git-merge.svg" /></p>
<h3 id="main-branches-merges">Main Branches Merges</h3>
<p><code>development -&gt; qa_testing</code> Once the features that will be added to the build are completed and merged into development, we can merge with qa_testing so then the QA team can test the build.</p>
<p><code>qa_testing -&gt; stage</code> Once the QA team review the build and all the bugs found were resolved, we can merge qa_testing to stage.</p>
<p><code>stage -&gt; master</code> Once the Beta testers and the client give us the OK to go live, we are ready to upload the app to the App Store and this will require to merge stage with master.</p>
<p><code>master -&gt; stage</code> Every hotfix on master must be merged in stage.</p>
<p><code>stage  -&gt; qa_testing</code> Every hotfix on stage or any aditional code on stage must be merged into qa_testing.</p>
<p><code>qa_testing -&gt; development</code> Every bugfix on qa_testing or any aditional code on qa_testing must be merged to development.</p>
<h3 id="supporting-branches-merges">Supporting Branches Merges</h3>
<p><code>Feature -&gt; development</code> Once a developer completes a task and finishes testing that feature, that feature must be merged into development.</p>
<p><code>Epic -&gt; development</code> Once a developer completes an epic feature and finishes testing it, that feature must be merged into development.</p>
<p><code>Bug -&gt; qa_testing</code> Once a developer fixes a bug detected on qa_testing, that fix must be merged into qa_testing.</p>
<p><code>Hotfix -&gt; Stable branch (stage or master)</code> Once a developer fixes a bug detected on a stable branch, it must be merged to that stable branch.</p>
<h2 id="rebasing-branches">Rebasing Branches</h2>
<p>Merging is Git's way of putting a forked history back together again. The <code>git merge</code> command lets you take the independent lines of development created by <code>git branch</code> and integrate them into a single branch.
Understand all about it <a href="https://www.atlassian.com/git/tutorials/git-merge">here</a>.
<img src="imgs/git-merge.svg" height="400px"></p>
<h3 id="developing-a-feature">Developing a feature</h3>
<p>So you want to create a new feature, let's call it <code>add-user-auth</code>. Your remote repo has <code>master</code> and <code>develop</code> branches, and it looks something like this:
<img alt="Merge illustration" src="../imgs/master-dev.png" /></p>
<p>So you will <code>git checkout development</code>, and <code>git checkout -b add-user-auth</code>. This will create a branch out of the tip of <code>develop</code>. Let's say your feature takes a couple of days of development. In the meantime, someone introduced changes to <code>develop</code>, and now you have to fix some conflicts before being able to integrate commits on <code>add-user-auth</code>. Once you've updated code in <code>develop</code> branch, you need to <code>git checkout add-user-auth</code> and <code>git rebase develop</code>. This will apply your commits one by one on top of <code>develop</code> branch, thus changing <code>add-user-auth</code> base. Now your changes are ready to integrate into <code>develop</code> and merge would be just a fast-forward. Keep in mind you will have to solve conflicts in the process, and maybe solve conflicts on each of your commits. That's why many people squash their commits before doing this. We recommend reading <a href="https://robots.thoughtbot.com/git-interactive-rebase-squash-amend-rewriting-history#squash-commits-together">this article</a> and <a href="https://git-scm.com/book/en/v2/Git-Tools-Rewriting-History">git's own documentation</a> about it.</p>
<h2 id="conclusion">Conclusion</h2>
<p>"And that’s all you really need to know to start rebasing your branches. If you would prefer a clean, linear history free of unnecessary merge commits, you should reach for <code>git rebase</code> instead of <code>git merge</code> when integrating changes from another branch.</p>
<p>On the other hand, if you want to preserve the complete history of your project and avoid the risk of re-writing public commits, you can stick with <code>git merge</code>. Either option is perfectly valid, but at least now you have the option of leveraging the benefits of <code>git rebase</code>."<a href="https://www.atlassian.com/git/tutorials/merging-vs-rebasing#summary">ref</a></p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script>var base_url = '../../..';</script>
        <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
        <script src="../../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>